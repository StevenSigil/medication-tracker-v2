(this["webpackJsonpmedication-tracker"]=this["webpackJsonpmedication-tracker"]||[]).push([[0],{107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(20),i=n.n(s),r=n(7),l=n(9),o=n(41),j=n(70),d=n.n(j).a.create({baseURL:"https://ssigil.pythonanywhere.com/api/",timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json, text/csv"}}),b=n(122),u=n(123),h=n(120),O=n(114),m=n(113),x=n(19),g=n(8),p=n(121);function f(e){var t=null,n=60*(t=e||new Date).getTimezoneOffset()*1e3,a=new Date(t.getTime()-n).toISOString().split("T");return{date:a[0],time:a[1].slice(0,-1)}}function v(e,t){t.includes("Z")||(t+="Z");var n=new Date(e+"T"+t),a=60*n.getTimezoneOffset()*1e3;return new Date(n.getTime()+a).toISOString()}var y=n(0);var w=function(e){var t=e.handleClose,n=Object(a.useState)({start:f().date,end:f().date,time_offset:(new Date).getTimezoneOffset()}),c=Object(r.a)(n,2),s=c[0],i=c[1];function l(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,a))}))}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{style:{textAlign:"center"},children:"Please select a start and end date to download"}),Object(y.jsxs)(p.a,{className:"download-form",children:[Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a.Label,{children:"Start Date"}),Object(y.jsx)(p.a.Control,{id:"download-MED-startDate",type:"date",name:"start",value:s.start,onChange:l,"aria-label":"Start Date"})]}),Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a.Label,{children:"End Date"}),Object(y.jsx)(p.a.Control,{id:"download-MED-endDate",type:"date",name:"end",value:s.end,onChange:l,"aria-label":"End Date"})]})]}),Object(y.jsxs)(h.a.Footer,{className:"downloadButton-footer",children:[Object(y.jsx)(m.a,{variant:"secondary",onClick:t,children:"Close"}),Object(y.jsx)(m.a,{variant:"success",onClick:function(){var e=v(s.start,(new Date).toISOString().slice(11)),t=v(s.end,(new Date).toISOString().slice(11)),n="medications_"+s.start+"_"+s.end+".csv";d.post("logs/download_logs/",{start:e,end:t,time_offset:s.time_offset}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.setAttribute("download",n),document.body.appendChild(a),a.click()}))},children:"Download"})]})]})};var S=function(e){var t=e.handleClose,n=Object(a.useState)({start:f().date,end:f().date,time_offset:(new Date).getTimezoneOffset()}),c=Object(r.a)(n,2),s=c[0],i=c[1];function l(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,a))}))}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{style:{textAlign:"center"},children:"Please select a start and end date to download"}),Object(y.jsxs)(p.a,{className:"download-form",children:[Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a.Label,{children:"Start Date"}),Object(y.jsx)(p.a.Control,{id:"download-BP-start",type:"date",name:"start",value:s.start,onChange:l,"aria-label":"Start Date"})]}),Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a.Label,{children:"End Date"}),Object(y.jsx)(p.a.Control,{id:"download-BP-end",type:"date",name:"end",value:s.end,onChange:l,"aria-label":"End Date"})]})]}),Object(y.jsxs)(h.a.Footer,{className:"downloadButton-footer",children:[Object(y.jsx)(m.a,{variant:"secondary",onClick:t,children:"Close"}),Object(y.jsx)(m.a,{variant:"success",onClick:function(){var e=v(s.start,(new Date).toISOString().slice(11)),t=v(s.end,(new Date).toISOString().slice(11)),n="blood-pressure_"+s.start+"_"+s.end+".csv";d.post("bp/download_bplogs/",{start:e,end:t,time_offset:s.time_offset}).then((function(e){var t=new Blob([e.data]),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.setAttribute("download",n),document.body.appendChild(a),a.click()}))},children:"Download"})]})]})};var k=function(e){var t=e.show,n=e.setShow,c=Object(a.useState)(!0),s=Object(r.a)(c,2),i=s[0],l=s[1],o=Object(a.useState)(""),j=Object(r.a)(o,2),d=j[0],b=j[1];function u(e){b(e),l(!1)}function x(){n(!1),b(""),l(!0)}return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{animation:!1,show:t,onHide:x,children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsxs)(h.a.Title,{children:["Download your ",d," history"]})}),i?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a.Body,{className:"doubleButton-body",children:[Object(y.jsx)("p",{children:"Please select a data-set"}),Object(y.jsxs)(O.a,{className:"doubleButton-container",children:[Object(y.jsx)(m.a,{onClick:function(){return u("medication")},children:"Medications"}),Object(y.jsx)(m.a,{onClick:function(){return u("bp")},children:"Blood Pressure"})]})]})}):Object(y.jsx)(h.a.Body,{children:"medication"===d?Object(y.jsx)(w,{handleClose:x}):Object(y.jsx)(S,{handleClose:x})})]})})};function C(e){var t=e.setLogin,n=Object(a.useState)(!1),c=Object(r.a)(n,2),s=c[0],i=c[1],o=Object(l.g)(),j=sessionStorage.getItem("Token");function h(e){switch(e){case"main":o.push("/main/");break;case"bp":o.push("/bp/");break;case"download":i(!0);break;case"logout":d.post("users/logout").then((function(e){sessionStorage.removeItem("Token"),t(!1),o.push("/login/")}));break;default:o.push("/main")}}return j&&(d.defaults.headers.common.Authorization="Token "+j),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(b.a,{className:"customNav",expand:"lg",children:[Object(y.jsx)(b.a.Brand,{onClick:function(){return h("main")},as:u.a.Link,children:Object(y.jsx)("h2",{children:"The Drug Keep"})}),Object(y.jsx)(b.a.Toggle,{"aria-controls":"custom-navbar"}),Object(y.jsx)(b.a.Collapse,{id:"custom-navbar",className:"innerNav-collapse",children:Object(y.jsxs)(u.a,{onSelect:h,children:[Object(y.jsx)(u.a.Link,{eventKey:"main",children:"Medications"}),Object(y.jsx)(u.a.Link,{eventKey:"bp",children:"Blood Pressure"}),Object(y.jsx)(u.a.Link,{eventKey:"download",children:"Download Data"}),Object(y.jsx)(u.a.Link,{eventKey:"logout",children:"Logout"})]})})]}),Object(y.jsx)(k,{show:s,setShow:i})]})}var N=n(72),D=n(124);n(58);function I(){var e=Object(l.g)();function t(t){switch(t){case"login":e.push("/login/");break;case"register":e.push("/register/");break;default:console.log("Problem navigating from navbar event!")}}return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(b.a,{className:"customNav",expand:"lg",children:[Object(y.jsx)(b.a.Brand,{onClick:function(){return t("login")},as:u.a.Link,children:Object(y.jsx)("h2",{children:"The Drug Keep"})}),Object(y.jsx)(b.a.Toggle,{"aria-controls":"custom-navbar"}),Object(y.jsx)(b.a.Collapse,{id:"custom-navbar",className:"innerNav-collapse",children:Object(y.jsxs)(u.a,{onSelect:t,children:[Object(y.jsx)(u.a.Link,{eventKey:"login",children:"Login"}),Object(y.jsx)(u.a.Link,{eventKey:"register",children:"Register"})]})})]})})}var T=n(115),B=n(119),M=n(116),A=n.p+"static/media/linkedin.fe8721c9.svg",L=n.p+"static/media/envelope-fill.9603dc70.svg";function E(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(null);return Object(y.jsxs)("footer",{className:"footer",children:[Object(y.jsx)("p",{children:"Need an application built? Reach out to me!"}),Object(y.jsx)(m.a,{className:"github-btn",type:"link",href:"https://github.com/StevenSigil",rel:"noreferrer",target:"_blank",variant:"outline-light",children:Object(y.jsx)(T.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",width:"100%",height:"100%",alt:"Github logo"})}),Object(y.jsx)(m.a,{className:"github-btn",type:"link",href:"https://www.linkedin.com/in/stevensigil",rel:"noreferrer",target:"_blank",variant:"outline-light",children:Object(y.jsx)(T.a,{src:A,height:"100%",width:"100%",alt:"Linkedin Logo"})}),Object(y.jsx)(m.a,{className:"github-btn",type:"link",href:"mailto:steven.sigil@protonmail.com",rel:"noreferrer",ref:s,target:"_blank",variant:"outline-light",onClick:function(){var e=document.createElement("textarea");document.body.appendChild(e),e.value="stevensigil@protonmail.com",e.select(),document.execCommand("copy"),document.body.removeChild(e),c(!0)},children:Object(y.jsx)(T.a,{src:L,height:"100%",width:"100%",alt:"Linkedin Logo"})}),Object(y.jsx)(B.a,{transition:!1,target:s.current,show:n,placement:"right",children:Object(y.jsxs)(M.a,{id:"email-popover",onClick:function(){return c(!1)},children:[Object(y.jsx)("p",{children:"Email address has been copied to your clipboard."})," ",Object(y.jsx)("small",{children:"Click to close"})]})})]})}function G(e){var t=e.checkForToken,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(""),j=Object(r.a)(o,2),b=j[0],u=j[1],h=Object(a.useState)({email:null,password:null}),O=Object(r.a)(h,2),x=O[0],f=O[1],v=Object(l.g)();function w(e,n){e&&e.preventDefault();var a=n||{email:s,password:b};d.post("users/login",a,{with_credentials:!0}).then((function(e){console.log(e);var n=e.data.auth_token;n&&(sessionStorage.setItem("Token",n),t(),200===e.status&&v.push("/main/"))})).catch((function(e){e.response&&function(e){e.email&&f((function(t){return Object(g.a)(Object(g.a)({},t),{},{email:e.email[0]})}));e.password&&f((function(t){return Object(g.a)(Object(g.a)({},t),{},{password:e.password[0]})}))}(e.response.data)}))}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{}),Object(y.jsxs)("div",{className:"loginMainDiv",children:[Object(y.jsx)(N.a,{xs:10,sm:8,md:6,lg:5,xl:4,className:"loginCol",children:Object(y.jsxs)(D.a,{className:"login-card",children:[Object(y.jsxs)(D.a.Header,{children:[Object(y.jsx)(D.a.Title,{as:"h1",children:"Welcome Back"}),Object(y.jsx)(D.a.Subtitle,{children:"Please sign in"})]}),Object(y.jsx)(D.a.Body,{className:"cardBody-form",children:Object(y.jsxs)(p.a,{onSubmit:w,children:[Object(y.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(y.jsx)(p.a.Label,{children:"Email address"}),Object(y.jsx)(p.a.Control,{className:x.email?"is-invalid":null,type:"email",placeholder:"Email",autoComplete:"username",value:s,onChange:function(e){return i(e.target.value)}}),Object(y.jsx)(p.a.Control.Feedback,{type:"invalid",children:x.email})]}),Object(y.jsxs)(p.a.Group,{controlId:"formBasicPassword",children:[Object(y.jsx)(p.a.Label,{children:"Password"}),Object(y.jsx)(p.a.Control,{className:x.password?"is-invalid":null,type:"password",placeholder:"Password",autoComplete:"current-password",value:b,onChange:function(e){return u(e.target.value)}}),Object(y.jsx)(p.a.Control.Feedback,{type:"invalid",children:x.password})]}),Object(y.jsx)(m.a,{className:"authSubmit-button",variant:"primary",type:"submit",children:"Submit"})]})}),Object(y.jsxs)(D.a.Footer,{className:"register-body",children:[Object(y.jsxs)(N.a,{xs:12,lg:6,className:"register-container",children:[Object(y.jsx)(D.a.Title,{children:"Not registered?"}),Object(y.jsx)(D.a.Title,{children:Object(y.jsx)(m.a,{onClick:function(){return v.push("/register/")},children:"Register"})})]}),Object(y.jsxs)(N.a,{xs:12,lg:6,className:"register-container",children:[Object(y.jsx)(D.a.Title,{children:"Here for a Demo?"}),Object(y.jsx)(D.a.Title,{children:Object(y.jsx)(m.a,{onClick:function(){w(null,{email:"demo@example.com",password:"1234$abcd"})},children:"Demo"})})]})]})]})}),Object(y.jsx)(E,{})]})]})}var R=function(e){var t=e.checkForToken,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(""),j=Object(r.a)(o,2),b=j[0],u=j[1],h=Object(a.useState)(""),O=Object(r.a)(h,2),x=O[0],f=O[1],v=Object(a.useState)(""),w=Object(r.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)({email:null,password:null}),T=Object(r.a)(C,2),B=T[0],M=T[1],A=Object(l.g)();function L(){return Object(y.jsxs)("div",{className:"password-help",children:[Object(y.jsx)("p",{children:"Password must meet the following requirements:"})," ",Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:"Longer than 8 characters"})," ",Object(y.jsx)("li",{children:"Contain 1 or more special characters"}),Object(y.jsx)("li",{children:"Include at least 1 number and 1 letter"})]})]})}var G=s.length>0?B.email||!s.includes(".")?"is-invalid":"is-valid":null,R=b.length>0?B.password||b.length<8?"is-invalid":"is-valid":null;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(I,{}),Object(y.jsxs)("div",{className:"loginMainDiv",children:[Object(y.jsx)(N.a,{xs:10,sm:8,md:6,lg:5,xl:4,style:{margin:"auto",marginTop:"2rem",marginBottom:"2rem"},children:Object(y.jsxs)(D.a,{className:"login-card",children:[Object(y.jsxs)(D.a.Header,{children:[Object(y.jsx)(D.a.Title,{as:"h1",children:"Register now"}),Object(y.jsx)(D.a.Subtitle,{children:"Enter your details below"})]}),Object(y.jsx)(D.a.Body,{children:Object(y.jsxs)(p.a,{noValidate:!0,onSubmit:function(e){e.preventDefault();var n={email:s,password:b,first_name:x,last_name:S};d.post("users/register",n).then((function(e){var n=e.data.auth_token;n&&(sessionStorage.setItem("Token",n),t(),A.push("/main/"))})).catch((function(e){!function(e){e.email&&M((function(t){return Object(g.a)(Object(g.a)({},t),{},{email:e.email[0]})}));e.password&&M((function(t){return Object(g.a)(Object(g.a)({},t),{},{password:e.password[0]})}))}(e.response.data)}))},children:[Object(y.jsxs)(p.a.Group,{controlId:"formRegisterEmail",children:[Object(y.jsx)(p.a.Label,{children:"Your email address"}),Object(y.jsx)(p.a.Control,{className:G,type:"email",placeholder:"Email",autoComplete:"new-username",value:s,onChange:function(e){i(e.target.value),M((function(e){return Object(g.a)(Object(g.a)({},e),{},{email:null})}))}}),Object(y.jsx)(p.a.Control.Feedback,{type:"invalid",children:B.email?B.email:"Please enter a valid email address"})]}),Object(y.jsxs)(p.a.Group,{controlId:"formRegisterPassword",children:[Object(y.jsx)(p.a.Label,{children:"Your desired password"}),Object(y.jsx)(p.a.Control,{className:R,type:"password",placeholder:"Password",autoComplete:"new-password",value:b,onChange:function(e){u(e.target.value),M((function(e){return Object(g.a)(Object(g.a)({},e),{},{password:null})}))}}),Object(y.jsx)(p.a.Control.Feedback,{type:"invalid",children:b.length>8?B.password:Object(y.jsx)(L,{})})]}),Object(y.jsxs)(p.a.Group,{controlId:"formRegisterFirstName",children:[Object(y.jsx)(p.a.Label,{children:"Your first name"}),Object(y.jsx)(p.a.Control,{required:!0,type:"text",placeholder:"First name",autoComplete:"first-name",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(y.jsxs)(p.a.Group,{controlId:"formRegisterLastName",children:[Object(y.jsx)(p.a.Label,{children:"Your last name"}),Object(y.jsx)(p.a.Control,{required:!0,type:"text",placeholder:"Last name",autoComplete:"last-name",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(y.jsx)(m.a,{className:"authSubmit-button",variant:"primary",type:"submit",children:"Submit"})]})})]})}),Object(y.jsx)(E,{})]})]})},F=n(52),P=n(117);var H=function(e){var t=e.show,n=e.setShow,c=Object(a.useState)({name:"",strength:""}),s=Object(r.a)(c,2),i=s[0],l=s[1];function o(e){var t=e.target,n=t.name,a=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,a))}))}function j(){n(!1),l({name:"",strength:""}),e.getUsersMedications()}return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{animation:!1,show:t,onHide:j,className:"createMedModal",children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{children:"Add a medication"})}),Object(y.jsx)(h.a.Body,{children:Object(y.jsxs)(p.a,{onSubmit:function(e){e.preventDefault();var t,n,a=(t=i.name,n=i.strength,{name:t=t.toLowerCase(),strength:n=n.toLowerCase()});d.post("medications/new_medication/",a).then((function(e){j()}))},children:[Object(y.jsx)(p.a.Group,{controlId:"createModalName",children:Object(y.jsx)(p.a.Control,{type:"text",placeholder:"Enter the medication name",name:"name",value:i.name,onChange:o})}),Object(y.jsx)(p.a.Group,{controlId:"createModalStrength",children:Object(y.jsx)(p.a.Control,{type:"text",placeholder:"Enter the medication strength",name:"strength",value:i.strength,onChange:o})}),Object(y.jsxs)(O.a,{className:"btn-container",children:[Object(y.jsx)(m.a,{variant:"outline-secondary",onClick:j,children:"Cancel"}),Object(y.jsx)(m.a,{variant:"success",type:"submit",children:"Submit"})]})]})})]})})};var Z=function(e){var t=e.show,n=e.setShow,a=e.goBack,c=e.resetModal,s=e.selection,i=e.getUsersMedications;function r(){n(!1),c(),i()}return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{animation:!1,show:t,onHide:r,children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{style:{margin:"auto"},children:"Confirm action"})}),Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h5",{children:"Your selection"}),Object(y.jsx)(O.a,{children:s.map((function(e){return Object(y.jsxs)("li",{children:[e.name," ",e.strength]},e.id)}))})]}),Object(y.jsxs)(h.a.Body,{style:{marginBottom:"16px"},children:[Object(y.jsx)("h5",{children:"Warning"}),Object(y.jsxs)(O.a,{children:[Object(y.jsx)("h6",{children:"This action will remove the above medication(s) from ALL your log entries."}),Object(y.jsx)("em",{children:"You will not be able to undo this action. Please confirm now."})]})]}),Object(y.jsxs)(h.a.Footer,{children:[Object(y.jsx)(m.a,{variant:"secondary",onClick:a,children:"Go back"}),Object(y.jsx)(m.a,{onClick:function(){s.forEach((function(e){d.post("medications/delete_medication/",{id:e.id}).then((function(e){r()}))}))},variant:"danger",children:"Confirm Delete"})]})]})})};var U=function(e){var t=e.usersMedications,n=e.show,c=e.setShow,s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1],j=Object(a.useState)([]),d=Object(r.a)(j,2),b=d[0],u=d[1];function O(){c(!1),u([])}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(h.a,{animation:!1,show:n,onHide:O,children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{children:"Manage your medications"})}),Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("p",{children:"Please select the medication(s) to manage:"}),Object(y.jsx)(P.a,{noGutters:!0,children:t.map((function(e){return Object(y.jsx)(N.a,{xs:6,sm:4,className:"med-col",style:{textAlign:"center"},children:Object(y.jsxs)(m.a,{hidden:!e.name,className:"med-btn",variant:"outline-primary",id:e.id,onClick:function(){return t=e,u((function(e){return[].concat(Object(F.a)(e),[t])})),document.getElementById(t.id).disabled=!0,void(document.getElementById(t.id).classList="med-btn btn btn-primary");var t},children:[e.name," ",Object(y.jsx)("br",{}),e.strength]})},e.id)}))})]}),Object(y.jsxs)(h.a.Footer,{children:[Object(y.jsx)(m.a,{variant:"secondary",onClick:O,children:"Cancel"}),Object(y.jsx)(m.a,{variant:"warning",onClick:function(){b.forEach((function(e){var t=e.id;document.getElementById(t).disabled=!1,document.getElementById(t).classList="med-btn btn btn-outline-primary"})),u([])},children:"Reset choices"}),Object(y.jsx)(m.a,{variant:"success",onClick:function(){b.length<1?alert("Please select a medication to continue."):(o(!0),c(!1))},children:"Confirm selection"})]})]}),Object(y.jsx)(Z,{show:l,setShow:o,resetModal:O,goBack:function(){o(!1),c(!0),u([])},selection:b,getUsersMedications:e.getUsersMedications})]})};var Y=function(e){var t=e.show,n=e.setShow,c=e.medID,s=e.medName,i=e.setResetSignal,l=e.finishButtonInput,o=Object(a.useState)(0),j=Object(r.a)(o,2),d=j[0],b=j[1];return Object(y.jsxs)(h.a,{animation:!1,show:t,onHide:function(){i(!0),b(0),n(!1)},children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{children:"Please enter a quantity"})}),Object(y.jsx)(h.a.Header,{style:{paddingBottom:0},children:Object(y.jsxs)(h.a.Title,{as:"h5",children:[s,": ",d," "]})}),Object(y.jsx)(h.a.Body,{children:Array.from(Array(4).keys()).map((function(e){return Object(y.jsxs)(m.a,{className:"med-btn",disabled:d===e+1,variant:d!==e+1?"outline-primary":"primary",onClick:function(){return b(e+1)},children:[" ",e+1," "]},e)}))}),Object(y.jsx)(h.a.Body,{children:Object(y.jsx)(p.a.Control,{as:"select",onChange:function(e){return b(e.target.value)},children:Array.from(Array(10).keys()).map((function(e){return Object(y.jsxs)("option",{value:e+1,children:[" ",e+1," "]},e)}))})}),Object(y.jsx)(h.a.Footer,{children:Object(y.jsx)(m.a,{onClick:function(){l({medication:c,quantity:d})},children:"Submit"})})]})};function J(e){var t=e.medication,n=e.addMedication,c=e.resetSignal,s=e.setResetSignal,i=Object(a.useState)(!1),l=Object(r.a)(i,2),o=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(r.a)(d,2),u=b[0],h=b[1];return Object(a.useEffect)((function(){return!0===c&&j(!1),function(){s(!1)}}),[c,s]),Object(y.jsxs)(N.a,{xs:6,sm:4,md:3,lg:6,xl:4,className:"med-col",children:[Object(y.jsxs)(m.a,{hidden:!t.name,disabled:o,variant:o?"primary":"outline-primary",className:"med-btn",onClick:function(){h(!0),j(!0)},children:[Object(y.jsx)("p",{className:"m-0",children:t.name}),Object(y.jsx)("p",{className:"m-0",children:t.strength})]}),Object(y.jsx)(W,{previousTime:"".concat(t.last_time_taken,"Z")}),Object(y.jsx)(Y,{show:u,setShow:h,setResetSignal:s,medName:t.name,medID:t.id,finishButtonInput:function(e){n(e),h(!1)}})]})}function W(e){var t=e.previousTime;t=new Date(t);var n=Object(a.useState)(0),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(0),o=Object(r.a)(l,2),j=o[0],d=o[1],b=Object(a.useState)(0),u=Object(r.a)(b,2),h=u[0],O=u[1],m=Object(a.useState)(0),x=Object(r.a)(m,2),g=x[0],p=x[1];return Object(a.useEffect)((function(){var e=setInterval((function(){var e=new Date,n=Math.abs(e-t),a=Math.floor(n/1e3/60/60/24),c=Math.floor(n/1e3/60/60),s=Math.floor(n/1e3/60),r=c-24*a,l=s-60*c,o=Math.floor(n/1e3)-60*s;i(a),d(r),O(l),p(o)}),1e3);return function(){clearInterval(e)}}),[t]),s>30?"> 1 mo.":Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("small",{title:"Time since last taken",className:"m-0",children:[s>0?"".concat(s,"d : "):null,s<1&&j<1?null:"".concat(j,"h : "),h,"m : ",g,"s"]})})}var _,z=function(e){var t=e.usersMedications,n=e.setUsersMedications,c=e.setGetHistory,s=e.getMedications,i=e.setGetMedications,l=Object(a.useState)(!1),o=Object(r.a)(l,2),j=o[0],b=o[1],u=Object(a.useState)(!1),h=Object(r.a)(u,2),x=h[0],g=h[1];function p(){d.get("medications/medication_to_user/").then((function(e){0===e.data.length?n([{id:"x"}]):n(e.data),c(!0)}))}return Object(a.useEffect)((function(){return(s||0===t.length)&&d.get("medications/medication_to_user/").then((function(e){0===e.data.length?n([{id:"x"}]):n(e.data),c(!0)})),function(){i(!1)}}),[s,i,c,n,t]),t.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(P.a,{noGutters:!0,children:"x"!==t[0].id?t.map((function(t){return Object(y.jsx)(J,{medication:t,addMedication:e.addMedication,resetSignal:e.resetSignal,setResetSignal:e.setResetSignal},t.id)})):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h3",{children:"Welcome!"}),Object(y.jsx)("p",{children:"Add a medication below to get started."})]})}),Object(y.jsxs)(O.a,{className:"addMed-container",children:[Object(y.jsx)(m.a,{variant:"outline-danger",onClick:function(){return b(!0)},children:"Add Medication"}),Object(y.jsx)(m.a,{variant:"outline-dark",onClick:function(){return g(!0)},children:"Manage medications"})]}),Object(y.jsx)(H,{show:j,setShow:b,getUsersMedications:p}),Object(y.jsx)(U,{usersMedications:t,show:x,setShow:g,getUsersMedications:p})]}):null},Q=n(118),X=n(71),q=["title","titleId"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function $(e,t){var n=e.title,c=e.titleId,s=K(e,q);return a.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 182.92 190.99",ref:t,"aria-labelledby":c},s),n?a.createElement("title",{id:c},n):null,_||(_=a.createElement("path",{d:"M182.92,99.53A91.46,91.46,0,1,1,12.25,53.79a7.5,7.5,0,0,1,13,7.52A76.47,76.47,0,1,0,138.41,39.19l1.7,25.25C129,47.28,108.65,28.23,91.46,15.57,112.75,14,140.13,8.64,158.64,0l-16.8,23.19A91.66,91.66,0,0,1,182.92,99.53Z"})))}var ee=a.forwardRef($);n.p;var te=function(e){var t=e.addTimeTaken,n=e.disabledButton,c=e.resetSignal,s=Object(a.useState)(j),i=Object(r.a)(s,2),l=i[0],o=i[1];function j(){var e=f();return{date:e.date,time:e.time}}function d(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,a))}))}return Object(a.useEffect)((function(){c&&o(j())}),[c,o]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(P.a,{noGutters:!0,className:"timeInput-row",children:[Object(y.jsxs)(N.a,{children:[Object(y.jsxs)(Q.a,{size:"lg",children:[Object(y.jsx)(Q.a.Prepend,{children:Object(y.jsx)(Q.a.Text,{className:"dateTime-input1",id:"date-input1",children:"Date"})}),Object(y.jsx)(X.a,{type:"date",className:"dateTime-input",name:"date",value:l.date,onChange:d,"aria-label":"Date","aria-describedby":"date-input1"})]}),Object(y.jsxs)(Q.a,{size:"lg",children:[Object(y.jsx)(Q.a.Prepend,{children:Object(y.jsx)(Q.a.Text,{className:"dateTime-input1",id:"Time-input1",children:"Time"})}),Object(y.jsx)(X.a,{type:"time",className:"dateTime-input",name:"time",value:l.time,onChange:d,"aria-label":"Time","aria-describedby":"Time-input1"})]})]}),Object(y.jsx)(N.a,{sm:2,md:1,lg:2,style:{padding:0,display:"flex"},children:Object(y.jsxs)(m.a,{title:"Reset the date/time to current",variant:"outline-primary",onClick:function(){o(j())},children:[Object(y.jsx)(ee,{}),Object(y.jsx)("small",{children:"UPDATE TIME"})]})})]}),Object(y.jsx)(P.a,{noGutters:!0,className:"current-time-btn",children:Object(y.jsx)(m.a,{size:"lg",className:n?"btn customDisabledButton":"btn",variant:n?"outline-success":"success",onClick:n?function(){alert("Please select at least one medication before submitting.")}:function(){var e=v(l.date,l.time);t(e)},children:"Confirm this time"})})]})},ne=n(125);var ae=function(e){var t,n=e.show,a=e.setShow,c=e.sendLog,s=e.confirmationItems,i=s.slice(-1)[0];return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{animation:!1,show:n,onHide:function(){return a(!1)},children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{children:"Please confirm your entry"})}),Object(y.jsx)(h.a.Body,{children:Object(y.jsxs)(ne.a,{style:{color:"black"},children:[Object(y.jsxs)(ne.a.Item,{children:[" ",(t=i,new Date(t).toLocaleString())," "]}),s.slice(0,-1).map((function(e){return Object(y.jsxs)(ne.a.Item,{children:[e.name," ",e.strength," (",e.quantity,")"]},e.medication)}))]})}),Object(y.jsxs)(h.a.Footer,{children:[Object(y.jsx)(m.a,{variant:"success",onClick:function(){c(),a(!1)},children:"Confirm"}),Object(y.jsx)(m.a,{variant:"secondary",onClick:function(){return a(!1)},children:"Cancel"})]})]})})};function ce(e){var t=e.log,n=e.setGetHistory,a=e.setGetMedications,c=e.show,s=e.setShow,i=new Date(Date.parse(t.time_taken));return i=i.toLocaleString().split(", "),Object(y.jsxs)(h.a,{animation:!1,show:c,onHide:function(){return s(!1)},children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{style:{margin:"auto"},children:"Confirm action"})}),Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h5",{style:{marginBottom:"1.5rem"},children:"Did you want to remove this log entry?"}),Object(y.jsxs)(O.a,{style:{padding:"0.5rem",border:"1px solid black",borderRadius:"5px"},children:[Object(y.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-evenly",fontWeight:"600",fontSize:"1.125em"},children:[Object(y.jsx)("p",{children:i[1]}),Object(y.jsx)("p",{children:i[0]})]}),t.medication_quantities.map((function(e){return Object(y.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[Object(y.jsx)(N.a,{children:Object(y.jsx)("p",{style:{borderBottom:"1px solid #aaa"},children:e.name})}),Object(y.jsx)(N.a,{children:Object(y.jsx)("p",{style:{borderBottom:"1px solid #aaa"},children:e.strength})}),Object(y.jsx)(N.a,{children:Object(y.jsx)("p",{style:{borderBottom:"1px solid #aaa"},children:e.quantity})})]},e.id)}))]})]}),Object(y.jsxs)(h.a.Body,{style:{marginBottom:"16px"},children:[Object(y.jsx)("h5",{children:"Warning!"}),Object(y.jsx)(O.a,{children:Object(y.jsx)("h6",{children:"This action is not reversible. Please confirm now."})})]}),Object(y.jsxs)(h.a.Footer,{children:[Object(y.jsx)(m.a,{variant:"secondary",onClick:function(){return s(!1)},children:"Go back"}),Object(y.jsx)(m.a,{onClick:function(){d.post("logs/delete_log/",{id:t.id}).then((function(e){console.log(e),n(!0),a(!0)})).catch((function(e){return console.log(e)}))},variant:"danger",children:"Confirm Delete"})]})]})}function se(e){var t=e.historyItem,n=Object(a.useState)(!1),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)(!1),o=Object(r.a)(l,2),j=o[0],d=o[1],b=new Date(Date.parse(t.time_taken)),u=(b=b.toLocaleString().split(", "))[0],h=b[1],O=function(e){var t=e.data;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(N.a,{children:t.name}),Object(y.jsx)(N.a,{style:{alignItems:"center"},children:t.strength}),Object(y.jsx)(N.a,{style:{alignItems:"center"},children:t.quantity})]})};return Object(a.useEffect)((function(){setTimeout((function(){j&&d(!1)}),3e3)}),[d,j]),t?Object(y.jsxs)("div",{className:"outerCardContainer",children:[Object(y.jsxs)(D.a,{style:j?{width:"calc(100% - 75px)"}:null,className:"outerHistory-card",onClick:function(){return d(!j)},children:[Object(y.jsx)(D.a.Header,{children:Object(y.jsxs)(D.a.Title,{className:"history-title",children:[Object(y.jsx)(N.a,{children:h})," ",Object(y.jsx)(N.a,{children:u})]})}),Object(y.jsx)(D.a.Body,{children:Object(y.jsx)(ne.a,{children:t.medication_quantities?t.medication_quantities.map((function(e){return Object(y.jsx)(ne.a.Item,{className:"history-listItem",children:Object(y.jsx)(O,{data:e})},e.id)})):Object(y.jsxs)(N.a,{style:{alignItems:"center"},children:[Object(y.jsx)("p",{children:"No Data to Display"}),Object(y.jsx)("p",{children:"Please Add an entry to get started"})]})})}),s?Object(y.jsx)(ce,{log:t,setGetHistory:e.setGetData,setGetMedications:e.setGetMedications,show:s,setShow:i}):null]}),Object(y.jsx)(ie,{setShowRemoveLogModal:i})]}):null}function ie(e){var t=e.setShowRemoveLogModal;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(m.a,{variant:"outline-danger",className:"rtPopper",onClick:function(){return t(!0)},children:"TRASH"})})}function re(e){var t=e.getData,n=e.setGetData,c=Object(a.useState)([{id:null,name:null,strength:null,quantity:null,time_taken:new Date(Date().toLocaleString()).toISOString()}]),s=Object(r.a)(c,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){return!0===t&&d.get("logs/users_logs/").then((function(e){0!==e.data.length&&l(e.data.reverse())})),function(){n(!1)}}),[t,n]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:"Your recent history"}),i.map((function(t){return Object(y.jsx)(se,{historyItem:t,setGetData:n,setGetMedications:e.setGetMedications},t.id)}))]})}function le(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1],j=Object(a.useState)([]),b=Object(r.a)(j,2),u=b[0],h=b[1],x=Object(a.useState)(!0),g=Object(r.a)(x,2),p=g[0],f=g[1],v=Object(a.useState)(!1),w=Object(r.a)(v,2),S=w[0],k=w[1],C=Object(a.useState)([]),D=Object(r.a)(C,2),I=D[0],T=D[1],B=Object(a.useState)([]),M=Object(r.a)(B,2),A=M[0],L=M[1],G=Object(a.useState)({}),R=Object(r.a)(G,2),H=R[0],Z=R[1],U=Object(a.useState)(!1),Y=Object(r.a)(U,2),J=Y[0],W=Y[1];function _(){T([]),Z({}),f(!0),W(!0),L([])}return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"main",children:Object(y.jsxs)(P.a,{className:"main-row",children:[Object(y.jsx)(N.a,{md:12,lg:5,className:"usersMeds",children:Object(y.jsxs)("div",{className:"usersMeds-div",children:[Object(y.jsxs)(O.a,{children:[Object(y.jsx)("h2",{children:"Add a new medication entry"}),Object(y.jsx)(z,{addMedication:function(e){L((function(t){return[].concat(Object(F.a)(t),[e])})),f(!1)},usersMedications:u,setUsersMedications:h,resetSignal:J,setResetSignal:W,setGetHistory:c,getMedications:l,setGetMedications:o}),Object(y.jsx)("h2",{children:"Confirm the date and time taken"}),Object(y.jsx)(te,{addTimeTaken:function(e){Z({time_taken:e,medication_quantities:A}),function(e){var t=A.map((function(e){return u.forEach((function(t){t.id===e.medication&&(e.name=t.name,e.strength=t.strength)})),e}));t.push(e),T(t)}(e),k(!0)},disabledButton:p,resetSignal:J}),Object(y.jsx)(P.a,{noGutters:!0,className:"current-time-btn",children:Object(y.jsx)(m.a,{variant:"outline-danger",size:"lg",onClick:_,children:"Clear and Restart"})})]}),I?Object(y.jsx)(ae,{confirmationItems:I,dateTime:I.slice(-1),show:S,setShow:k,sendLog:function(){d.post("logs/create_log/",H).then((function(e){console.log(e),o(!0)})).catch((function(e){return console.log(e)})),_()}}):null]})}),Object(y.jsx)(N.a,{md:12,lg:5,children:Object(y.jsx)("div",{className:"history-col",children:Object(y.jsx)(re,{getData:n,setGetData:c,setGetMedications:o})})})]})}),Object(y.jsx)(E,{})]})}var oe=function(e){var t=e.inputData,n=e.setInputData,a=e.setDisabledButton;function c(e){var c=e.target,s=c.value,i=c.name;n((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},i,s))})),t.sys.length>0&&t.dia.length>0&&t.pulse.length>0&&a(!1)}return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(P.a,{noGutters:!0,className:"bpForm-row",children:Object(y.jsxs)(p.a,{children:[Object(y.jsxs)(p.a.Group,{controlId:"CreateBPLog-sys",children:[Object(y.jsx)(p.a.Label,{children:"Systolic (top)"}),Object(y.jsx)(p.a.Control,{type:"number",placeholder:"Systolic",name:"sys",value:t.sys,onChange:c})]}),Object(y.jsxs)(p.a.Group,{controlId:"CreateBPLog-dia",children:[Object(y.jsx)(p.a.Label,{children:"Diastolic (middle)"}),Object(y.jsx)(p.a.Control,{type:"number",placeholder:"Diastolic",name:"dia",value:t.dia,onChange:c})]}),Object(y.jsxs)(p.a.Group,{controlId:"CreateBPLog-pulse",children:[Object(y.jsx)(p.a.Label,{children:"Pulse (bottom)"}),Object(y.jsx)(p.a.Control,{type:"number",placeholder:"Pulse",name:"pulse",value:t.pulse,onChange:c})]}),Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a.Label,{children:"Notes"}),Object(y.jsx)(p.a.Control,{as:"textarea",rows:2,placeholder:"Notes",name:"note",value:t.note,onChange:c})]})]})})})};var je=function(e){var t=e.historyItem,n=new Date(Date.parse(t.date_time)),a=(n=n.toLocaleString().split(", "))[0],c=n[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(D.a.Header,{children:Object(y.jsxs)(D.a.Title,{className:"history-title",children:[Object(y.jsx)(N.a,{children:c})," ",Object(y.jsx)(N.a,{children:a})]})}),Object(y.jsx)(D.a.Body,{children:Object(y.jsxs)(ne.a,{children:[Object(y.jsxs)(ne.a.Item,{children:[Object(y.jsxs)(P.a,{noGutters:!0,className:"bpHistory-vitals",children:[Object(y.jsx)(N.a,{children:"Systolic"}),Object(y.jsx)(N.a,{children:"Diastolic"}),Object(y.jsx)(N.a,{children:"Pulse"})]}),Object(y.jsxs)(P.a,{noGutters:!0,children:[Object(y.jsx)(N.a,{children:t.sys}),Object(y.jsx)(N.a,{children:t.dia}),Object(y.jsx)(N.a,{children:t.pulse})]})]}),t.note?Object(y.jsx)(ne.a.Item,{className:"BPHistory-listGroup",children:Object(y.jsxs)(P.a,{noGutters:!0,className:"BPHistory-note",children:[Object(y.jsx)("p",{children:"Note:"}),Object(y.jsx)(O.a,{children:t.note})]})}):null]})})]})};var de=function(e){var t=e.getData,n=e.setGetData,c=Object(a.useState)([]),s=Object(r.a)(c,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){return 0!==i.length&&!0!==t||d.get("bp/get_post_bp_logs/").then((function(e){0===e.data.length?l([{id:null,sys:null,dia:null,pulse:null,note:null}]):l(e.data.reverse())})),function(){n(!1)}}),[i,t,n]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{children:"Your recent history"}),i.map((function(e){return Object(y.jsx)(D.a,{className:"outerHistory-card",children:Object(y.jsx)(je,{historyItem:e})},e.id)}))]})};var be=function(e){var t,n=e.show,a=e.setShow,c=e.items,s=e.sendLog;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(h.a,{animation:!1,show:n,onHide:function(){return a(!1)},children:[Object(y.jsx)(h.a.Header,{children:Object(y.jsx)(h.a.Title,{children:"Please confirm your entry"})}),Object(y.jsx)(h.a.Body,{children:Object(y.jsxs)(ne.a,{style:{color:"black"},children:[Object(y.jsx)(ne.a.Item,{style:{textAlign:"center"},children:Object(y.jsx)("div",{className:"h5",children:(t=c.date_time,new Date(t).toLocaleString())})}),Object(y.jsxs)(ne.a.Item,{children:[Object(y.jsx)("strong",{children:"Systolic:"})," ",Object(y.jsx)(O.a,{children:c.sys})]}),Object(y.jsxs)(ne.a.Item,{children:[Object(y.jsx)("strong",{children:"Diastolic:"})," ",Object(y.jsx)(O.a,{children:c.dia})]}),Object(y.jsxs)(ne.a.Item,{children:[Object(y.jsx)("strong",{children:"Pulse:"})," ",Object(y.jsx)(O.a,{children:c.pulse})]}),Object(y.jsxs)(ne.a.Item,{children:[Object(y.jsx)("strong",{children:"Note:"}),Object(y.jsx)(O.a,{children:c.note})]})]})}),Object(y.jsxs)(h.a.Footer,{children:[Object(y.jsx)(m.a,{variant:"success",onClick:function(){s(),a(!1)},children:"Confirm"}),Object(y.jsx)(m.a,{variant:"secondary",onClick:function(){return a(!1)},children:"Cancel"})]})]})})};var ue=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1],j=Object(a.useState)(!1),b=Object(r.a)(j,2),u=b[0],h=b[1],m=Object(a.useState)({sys:"",dia:"",pulse:"",note:""}),x=Object(r.a)(m,2),p=x[0],f=x[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"main",children:Object(y.jsxs)(P.a,{className:"main-row",children:[Object(y.jsx)(N.a,{md:12,lg:5,className:"usersMeds",children:Object(y.jsx)("div",{className:"usersMeds-div",children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)("h2",{children:"Add a new blood pressure reading"}),Object(y.jsx)(oe,{inputData:p,setInputData:f,setDisabledButton:c}),Object(y.jsx)("h2",{children:"Confirm the date and time taken"}),Object(y.jsx)(te,{addTimeTaken:function(e){var t;e=e.replace(" ","T"),e=new Date(e).toISOString(),t=e,f((function(e){return Object(g.a)(Object(g.a)({},e),{},{date_time:t})})),o(!0)},disabledButton:n})]})})}),Object(y.jsx)(N.a,{md:12,lg:5,children:Object(y.jsx)("div",{className:"history-col",children:Object(y.jsx)(de,{getData:u,setGetData:h})})})]})}),Object(y.jsx)(E,{}),Object(y.jsx)(be,{show:l,setShow:o,items:p,sendLog:function(){d.post("bp/get_post_bp_logs/",p).then((function(e){f({sys:"",dia:"",pulse:"",note:""}),c(!0),h(!0)}))}})]})};n(107);var he=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(l.g)();function i(){var e=sessionStorage.getItem("Token");e&&(d.defaults.headers.common.Authorization="Token "+e,c(!0))}return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(o.a,{basename:"/",children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{exact:!0,path:"/",children:n?Object(y.jsx)(l.a,{to:"/main/"}):Object(y.jsx)(l.a,{to:"/login/"})}),Object(y.jsx)(l.b,{exact:!0,path:"/register/",children:Object(y.jsx)(R,{checkForToken:i})}),Object(y.jsx)(l.b,{exact:!0,path:"/login/",children:n?Object(y.jsx)(l.a,{to:"/main/"}):Object(y.jsx)(G,{history:s,checkForToken:i})}),Object(y.jsx)(l.b,{exact:!0,path:"/main/",children:window.sessionStorage.getItem("Token")?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{setLogin:c}),Object(y.jsx)(le,{})]}):Object(y.jsx)(l.a,{to:"/login/"})}),Object(y.jsx)(l.b,{exact:!0,path:"/bp/",children:window.sessionStorage.getItem("Token")?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(C,{setLogin:c}),Object(y.jsx)(ue,{})]}):Object(y.jsx)(l.a,{to:"/login/"})})]})})})})};i.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(he,{})}),document.getElementById("root"))},58:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.95c8965c.chunk.js.map